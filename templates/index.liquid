{% comment %}
  Enhanced Homepage template for NüHome theme
  Showcases the complete winter-themed dropshipping experience
  Features: Hero, Bestsellers, Why NüHome, Testimonials, Newsletter sections
{% endcomment %}

{%- comment -%}
  The homepage uses Shopify's Sections Everywhere feature for complete customization.
  Store owners can add, remove, and reorder sections via the theme customizer.
  
  Default sections included:
  1. Hero - Main banner with product showcase
  2. Featured Products - Highlighted product collection
  3. Bestsellers - Top-selling products with social proof
  4. Why NüHome - Value propositions and benefits
  5. Testimonials - Customer reviews and trust signals
  6. Newsletter - Email capture with incentives
  
  All sections are fully customizable through the Shopify admin.
{%- endcomment -%}

{%- liquid
  # Check if we have any sections configured
  assign has_sections = false
  for section in section.sections
    assign has_sections = true
    break
  endfor
-%}

{% comment %}
  Enhanced Homepage template - renders sections directly for development
  This ensures sections always show up properly
{% endcomment %}

{% section 'hero' %}
{% section 'bestsellers' %}
{% section 'why-nuhome' %}
{% section 'testimonials' %}
{% section 'newsletter' %}

{% comment %}
  Backup: Also render content_for_index if available (for theme customizer)
{% endcomment %}
{{ content_for_index }}

{% comment %}
  Fallback content only if both sections and content_for_index are empty
{% endcomment %}
{% assign has_content = false %}
{% if content_for_index != blank %}
  {% assign has_content = true %}
{% endif %}

{% unless has_content %}
  {%- comment -%}
    Default homepage content when no sections are configured
    This provides a complete experience out of the box
  {%- endcomment -%}
  
  <!-- Default Hero Section -->
  <section class="default-hero">
    <div class="container">
      <div class="default-hero__content">
        <h1 class="default-hero__title">
          <span class="default-hero__title-text">Welcome to NüH❄️me</span>
          <span class="default-hero__title-decoration">❄️✨❄️</span>
        </h1>
        <p class="default-hero__subtitle">
          Elevate your everyday with premium ice-cold kitchen appliances designed for wellness and efficiency
        </p>
        <div class="default-hero__cta">
          <a href="/collections/all" class="btn btn-primary btn-large">
            Explore Products ❄️
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Default Featured Products -->
  {% if collections.frontpage.products.size > 0 %}
    <section class="default-featured">
      <div class="container">
        <h2 class="default-featured__title">Featured Products</h2>
        <div class="default-featured__grid">
          {% for product in collections.frontpage.products limit: 4 %}
            <div class="default-featured__item">
              {% render 'product-card', 
                product: product,
                show_secondary_image: true,
                show_vendor: false,
                show_rating: true %}
            </div>
          {% endfor %}
        </div>
        {% if collections.frontpage.products.size > 4 %}
          <div class="default-featured__footer">
            <a href="{{ collections.frontpage.url }}" class="btn btn-secondary">
              View All Products
            </a>
          </div>
        {% endif %}
      </div>
    </section>
  {% endif %}

  <!-- Default Newsletter -->
  <section class="default-newsletter">
    <div class="container">
      <div class="default-newsletter__content">
        <h2 class="default-newsletter__title">
          <span class="default-newsletter__title-text">❄️ Join the NüHome Family ❄️</span>
        </h2>
        <p class="default-newsletter__subtitle">
          Stay cool with exclusive deals, kitchen tips, and be the first to know about new arrivals
        </p>
        <form class="default-newsletter__form" action="/contact" method="post">
          <input type="hidden" name="form_type" value="customer">
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="default-newsletter__input-group">
            <input 
              type="email" 
              name="contact[email]" 
              placeholder="Enter your email address"
              class="default-newsletter__input"
              required>
            <button type="submit" class="default-newsletter__submit">
              Get 10% Off
            </button>
          </div>
        </form>
        <p class="default-newsletter__disclaimer">
          By subscribing, you agree to receive marketing emails from NüHome. Unsubscribe at any time.
        </p>
      </div>
    </div>
  </section>
{% endif %}

<style>
/* Default Homepage Styles */
.default-hero {
  min-height: 70vh;
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, #F0F8FF 0%, #E6F3FF 30%, #B8E6FF 70%, #87CEEB 100%);
  background-size: 400% 400%;
  animation: frozen-gradient 8s ease-in-out infinite;
  position: relative;
  overflow: hidden;
}

.default-hero__content {
  text-align: center;
  max-width: 800px;
  margin: 0 auto;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(15px);
  padding: 48px;
  border-radius: 24px;
  box-shadow: 0 20px 60px rgba(74, 144, 226, 0.2);
  border: 2px solid rgba(135, 206, 235, 0.3);
}

.default-hero__title {
  font-size: 3.5rem;
  font-weight: 800;
  margin-bottom: 24px;
  line-height: 1.1;
}

.default-hero__title-text {
  background: linear-gradient(135deg, #4A90E2 0%, #2171B5 30%, #87CEEB 70%, #B8E6FF 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  display: inline-block;
}

.default-hero__title-decoration {
  display: block;
  font-size: 1.5rem;
  margin-top: 8px;
  animation: bounce-sparkles 2s ease-in-out infinite;
}

.default-hero__subtitle {
  font-size: 1.25rem;
  color: #4A90E2;
  margin-bottom: 32px;
  line-height: 1.6;
  font-weight: 500;
}

.default-hero__cta .btn {
  font-size: 1.125rem;
  padding: 16px 40px;
  font-weight: 600;
  background: linear-gradient(135deg, #4A90E2 0%, #2171B5 100%);
  border: none;
  color: white;
  border-radius: 16px;
  box-shadow: 0 8px 25px rgba(74, 144, 226, 0.3);
  transition: all 0.3s ease;
}

.default-hero__cta .btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 35px rgba(74, 144, 226, 0.4);
}

.default-featured {
  padding: 80px 0;
  background: white;
}

.default-featured__title {
  text-align: center;
  font-size: 3rem;
  font-weight: 800;
  margin-bottom: 60px;
  background: linear-gradient(135deg, #4A90E2 0%, #87CEEB 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.default-featured__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 30px;
  margin-bottom: 40px;
}

.default-featured__footer {
  text-align: center;
  margin-top: 40px;
}

.default-newsletter {
  padding: 80px 0;
  background: linear-gradient(135deg, #F0F8FF 0%, #E6F3FF 100%);
}

.default-newsletter__content {
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
}

.default-newsletter__title {
  font-size: 2.5rem;
  font-weight: 800;
  margin-bottom: 20px;
}

.default-newsletter__title-text {
  background: linear-gradient(135deg, #4A90E2 0%, #87CEEB 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.default-newsletter__subtitle {
  font-size: 1.25rem;
  color: #4A90E2;
  margin-bottom: 40px;
  line-height: 1.6;
}

.default-newsletter__input-group {
  display: flex;
  gap: 12px;
  margin-bottom: 16px;
}

.default-newsletter__input {
  flex: 1;
  padding: 16px 20px;
  border: 2px solid rgba(74, 144, 226, 0.2);
  border-radius: 16px;
  font-size: 16px;
  background: rgba(255, 255, 255, 0.9);
}

.default-newsletter__input:focus {
  outline: none;
  border-color: #4A90E2;
}

.default-newsletter__submit {
  padding: 16px 24px;
  background: linear-gradient(135deg, #4A90E2 0%, #2171B5 100%);
  color: white;
  border: none;
  border-radius: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.default-newsletter__submit:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(74, 144, 226, 0.3);
}

.default-newsletter__disclaimer {
  font-size: 12px;
  color: #666;
  line-height: 1.4;
}

/* Animations */
@keyframes frozen-gradient {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes bounce-sparkles {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* Responsive */
@media (max-width: 768px) {
  .default-hero__content {
    padding: 32px 24px;
    margin: 0 16px;
  }
  
  .default-hero__title {
    font-size: 2.5rem;
  }
  
  .default-newsletter__input-group {
    flex-direction: column;
  }
  
  .default-newsletter__submit {
    width: 100%;
  }
}

@media (max-width: 480px) {
  .default-hero__title {
    font-size: 2rem;
  }
  
  .default-featured__title,
  .default-newsletter__title {
    font-size: 2rem;
  }
}
</style>
{% endunless %}
